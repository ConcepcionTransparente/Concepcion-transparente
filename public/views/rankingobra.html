<br>

<div class="row">
  <div class="divider"></div>

  <br>

  <h3>Ranking de Obra pública</h3>

  <p class="text">
    Para conocer el ranking de obra pública selecciona el período de búsqueda y los
    datos se mostrarán en la tabla, ordenados de mayor a menor.
  </p>

  <form ng-submit="submit()" data-ng-init="submit()">
    <div class="col s12 m4">
      <label for="rankingObraFechaInicio">Desde</label>
      <input input-date
        id="rankingObraFechaInicio"
        ng-model="rankingObraFechaInicio"
        type="text"
        max="{{ rankingObraFechaInicioMaxDate }}"
        min="{{ fechaInicioDatos }}"
        format="dd/mm/yyyy"
        first-day="0"
        name="rankingObraFechaInicio"
        disable="disable"
        today="today"
        clear="clear"
        close="close"
        container=""
        select-years="20"
        select-months="true"
        months-full="{{ month }}"
        months-short="{{ monthShort }}"
        weekdays-full="{{ weekdaysFull }}"
        weekdays-short="{{ weekdaysShort }}"
        weekdays-letter="{{ weekdaysLetter }}"
      />
    </div>

    <div class="col s12 m4">
      <label for="rankingObraFechaFin">Hasta</label>
      <input input-date
        id="rankingObraFechaFin"
        ng-model="rankingObraFechaFin"
        type="text"
        max="{{ rankingObraFechaInicioMaxDate }}"
        min="{{ fechaInicioDatos }}"
        format="dd/mm/yyyy"
        first-day="0"
        name="rankingObraFechaFin"
        disable="disable"
        today="todat"
        clear="clear"
        close="close"
        container=""
        select-years="20"
        select-months="true"
        months-full="{{ month }}"
        months-short="{{ monthShort }}"
        weekdays-full="{{ weekdaysFull }}"
        weekdays-short="{{ weekdaysShort }}"
        weekdays-letter="{{ weekdaysLetter }}"
      />
    </div>

    <div class="col s12 m4">
      <button
        type="submit"
        id="ranking_filter"
        class="waves-effect green lighten-1 waves-light btn"
      >
        <i class="material-icons left">search</i>Filtrar
      </button>
    </div>
    </div>

    <div class="row">
      <button
        type="button"
        ng-csv="getArrayOP"
        csv-header="getHeader()"
        filename="ObraPublica.csv"
        class="waves-effect lime lighten-1 waves-light btn center-button"
      >
        <i class="fa fa-download material-icons left" aria-hidden="true"></i>Exportar
      </button>
    </div>
  </form>

  <div class="row">
    <table>
      <thead>
        <tr>
          <th>PROVEEDOR</th>
          <th>CUIT</th>
          <th>IMPORTE TOTAL</th>
          <th>VER DETALLE</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="x in getArrayOP">
          <td>{{ x.nombre }}</td>
          <td>{{ x.cuit }}</td>
          <td>{{ x.importe | currency}}</td>
          <td>
            <a
              ui-sref="Detail({id: x.id})"
              target="_blank"
            >
              <i class="fa fa-arrow-circle-o-right fa-2 " aria-hidden="true"></i>
            </a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
