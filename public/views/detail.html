<div ng-cloak>
  <h3>Evolución del gasto: </h3>
  <div id="lineschart-detail" ></div>
  <br>
  <div class="divider"></div>
  <br>
  <h3>Contratos de obra pública y servicios para el proveedor: <br> {{detail[0].fk_Provider.grant_title}}</h3>
  <form>
    <input type="text" placeholder="Filtrar Categoria / Importe / Año" ng-model="searchPurchase">
  </form>
  <table>
    <thead>
      <tr>
        <th>
          <a href="" ng-click="sortType = 'fk_Category.category'; sortReverse = !sortReverse">
            REPARTICIÓN
            <span ng-show="sortType == 'fk_Category.category' && !sortReverse"></span>
            <span ng-show="sortType == 'fk_Category.category' && sortReverse"></span>
          </a>
        </th>
        <th>
          <a href="" ng-click="sortType = 'fk_Provider'; sortReverse = !sortReverse">
            PROVEEDOR
            <span ng-show="sortType == 'fk_Provider' && !sortReverse"></span>
            <span ng-show="sortType == 'fk_Provider' && sortReverse"></span>
          </a>
        </th>
        <th>
          <a href="" ng-click="sortType = 'import'; sortReverse = !sortReverse">
            IMPORTE
            <span ng-show="sortType == 'import' && !sortReverse"></span>
            <span ng-show="sortType == 'import' && sortReverse"></span>
          </a>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="x in detail | orderBy:sortType:sortReverse | filter:searchPurchase | limitTo: paginationLimit()">
        <td>{{ x.fk_Category.category }}</td>
        <td>{{ x.fk_Provider.grant_title }}</td>
        <td>{{x.import | currency}}</td>
        <td>{{ x.year}}</td>
      </tr>
    </tbody>
  </table>
  <button class="show-more-btn" ng-show="hasMoreItemsToShow()" ng-click="showMoreItems()">Show more</button>

</div>
