!function(){"use strict";angular.module("angular-d3plus",[]).directive("d3plusBar",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",id:"@",x:"@",y:"@",time:"@?",size:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"bar")}]}}]).directive("d3plusBubbles",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",id:"@",depth:"@",size:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"bubbles")}]}}]).directive("d3plusBox",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",id:"@",x:"@",y:"@",size:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"box")}]}}]).directive("d3plusGeomap",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",coords:"=",id:"@",text:"@?",size:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"geo_map")}]}}]).directive("d3plusLine",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",id:"@",x:"@",y:"@",text:"@?",size:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"line")}]}}]).directive("d3plusNetwork",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",id:"@",size:"@?",nodes:"=",edges:"="}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"network")}]}}]).directive("d3plusPaths",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",id:"@",size:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"paths")}]}}]).directive("d3plusPie",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",id:"@",size:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"pie")}]}}]).directive("d3plusRadar",["angularD3plusUtils",function(a){return{restrict:"E",scope:a.scope({data:"=",id:"@",size:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"radar")}]}}]).directive("d3plusRings",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",edges:"=",size:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"rings")}]}}]).directive("d3plusSankey",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({id:"@",edges:"=",nodes:"=",focus:"@",size:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"sankey")}]}}]).directive("d3plusScatter",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",id:"@",y:"@",x:"@",type:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"scatter")}]}}]).directive("d3plusStacked",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",text:"@",y:"@",id:"@",x:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"stacked")}]}}]).directive("d3plusTable",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({id:"@",cols:"@",shape:"@"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"table")}]}}]).directive("d3plusTreemap",["angularD3plusUtils",function(a){return{restrict:"AE",scope:a.scope({data:"=",id:"@",size:"@?"}),template:a.template,link:a.link,controller:["$scope","$element",function(b,c){a.controller(b,c,"tree_map")}]}}]).factory("angularD3plusUtils",function(){var a={myid:function(a,b){var c;return a.container?c=a.container:b?c="#"+b[0].children[0].id:a.viz&&(c=a.viz.container()),c},template:function(a){var b;a.container||(b="d3plus-"+(new Date).getTime()+Math.floor(10*Math.random()+1),a.container="#"+b,a.length>0&&(a[0].container=a.container));var c="";return a[0].attributes.style&&(c=a[0].attributes.style.nodeValue),'<div id="'+b+'" style="'+c+'"></div>'},link:function(a,b,c){a.$watch("data",function(b){b&&b.length>0&&a.viz.data(b).draw()}),a.$on("DataReady",function(b,c){c.elementid===a.elementid&&(c.data&&c.data.length>0&&a.viz.data(c.data),c.nodes&&a.viz.nodes(c.nodes),c.edges&&(a.viz.edges(c.edges),c.edgesarrows&&a.viz.edges({arrows:c.edgesarrows})),a.viz.draw())})},controller:function(b,c,d){b.viz=d3plus.viz().container(a.myid(b,c)),b.color&&a.setvar(b.viz.color,b.color),b.cols&&a.setvar(b.viz.cols,b.cols),b.depth&&b.viz.depth(Math.round(b.depth)),b.nodes&&a.setvar(b.viz.nodes,b.nodes),b.edges&&a.setvar(b.viz.edges,b.edges),b.focus&&a.setvar(b.viz.focus,b.focus),b.id&&a.setvar(b.viz.id,b.id),b.shape&&a.setvar(b.viz.shape,b.shape),b.size&&a.setvar(b.viz.size,b.size),b.time&&a.setvar(b.viz.time,b.time),b.x&&a.setvar(b.viz.x,b.x),b.y&&a.setvar(b.viz.y,b.y),b.coords&&a.setvar(b.viz.coords,b.coords),b.tooltip&&a.setvar(b.viz.tooltip,b.tooltip),b.viz.type(d)},scope:function(a){return a.data="=",a.container="@?",a.style="@?",a.focus="@?",a.tooltip="@?",a.elementid="@?",a.config="@?",a},setvar:function(a,b){try{var c=JSON.parse(b);a(c?c:b)}catch(d){a(b)}}};return a})}();